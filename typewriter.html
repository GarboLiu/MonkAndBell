<!DOCTYPE html>
<html>
<head>
	<title>小沙弥的故事1</title>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

	<style>

	</style>
</head>
<body>
<div class="wrapper">
	
		<div id="typewriter" class="typewriter"></div>	

	
	<script>
	var words = "我与他认识于5年前， 我在这山头，他在那山头，山与山间是条清澈的小河，我们总会在早上挑水时相遇。"
	var x = 0;
	var speed = 170;
	var flag = true;
	function typewrite() {
		var m = words;
		typewriter.innerHTML = m.substring(0, x++)+'_';
		if(x === m.length + 1){
			x = m.length;
			setInterval(function(){
				flag?typewriter.innerHTML= m.substring(0, x++) : typewriter.innerHTML = m.substring(0, x++)+'_';
				flag = !flag;
			}, speed*2);
		}else{
			timer = setTimeout('typewrite()', speed);
		}
	}
	
	setTimeout('typewrite()', 2000);
	</script>

</body>
</html>